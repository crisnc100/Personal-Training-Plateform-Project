<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Information</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .top-right {
            position: absolute;
            top: 10px;
            right: 10px;
        }
        .editable[contenteditable="true"] {
            background-color: #ffffcc; /* light yellow background */
            padding: 2px;
            border-radius: 4px;
        }
        
    </style>
</head>

<body>
    <div class="container mt-5">
        <h1 class="mb-4">Client Information</h1>
        <form action="/back_to_clients" method="post">
        <button type="submit" class="btn btn-secondary top-right" style="margin-top: 10px;">Back to Clients</button>
        </form>
        <button class="btn btn-primary btn-sm float-right" onclick="switchToEditMode()">Edit Information</button>
        <button id="saveChangesBtn" class="btn btn-success btn-sm float-right" onclick="switchToUpdateMode()" style="display:none;">Save Changes</button>
        <button id="cancelEditBtn" class="btn btn-danger btn-sm float-right" onclick="cancelEditMode()" style="display:none; margin-right: 5px;">Cancel</button>

        <div class="row">
            <div class="col-md-4">
                <div class="card">
                    <div class="card-header">
                        Basic Information
                    </div>
                    <div class="card-body">
                        <p><strong>Name:</strong> <span class="editable" id="first_name">{{ client_data.first_name }}</span> <span class="editable" id="last_name">{{ client_data.last_name }}</span></p>
                        <p><strong>Email:</strong> <span class="editable" id="email">{{ client_data.email }}</span></p>
                        <p><strong>Age:</strong> <span class="editable" id="age">{{ client_data.age }}</span></p>
                        <p><strong>Gender:</strong> <span class="editable" id="gender">{{ client_data.gender }}</span></p>
                        <input type="hidden" id="client_id" value="{{ client_data.id }}" />
                        <input type="hidden" id="consultation_id" value="{{ consultation_data.id }}" />
                        <input type="hidden" id="history_id" value="{{ history_data.id }}" />
                        <input type="hidden" id="flexibility_assessment_id" value="{{ Flexibilityassessment_data.id }}" />

                        <!-- Add more client information here -->
                    </div>
                </div>
            </div>
            <div class="col-md-8">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="contact-tab" data-toggle="tab" href="#contact" role="tab"
                            aria-controls="contact" aria-selected="true">Personal</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="consultation-tab" data-toggle="tab" href="#consultation" role="tab"
                            aria-controls="consultation" aria-selected="false">Consultation Form</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="medical-history-tab" data-toggle="tab" href="#medical-history"
                            role="tab" aria-controls="medical-history" aria-selected="false">Medical History</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="assessments-tab" data-toggle="tab" href="#assessments" role="tab"
                            aria-controls="assessments" aria-selected="false">Assessments</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="workout-progress-tab" data-toggle="tab" href="#workout-progress"
                            role="tab" aria-controls="workout-progress" aria-selected="false">Workouts</a>
                    </li>
                </ul>
                <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                        <div class="card">
                            <div class="card-header">
                                Personal
                            </div>
                            <div class="card-body">
                                <p><strong>Phone Number:</strong> <span class="editable" id="phone_number">{{ client_data.phone_number }}</span></p>
                                <p><strong>Address:</strong> <span class="editable" id="address">{{ client_data.address }}</span></p>
                                <p><strong>Location Gym:</strong> <span class="editable" id="location_gym">{{ client_data.location_gym }}</span></p>
                                <p><strong>Occupation:</strong> <span class="editable" id="occupation">{{ client_data.occupation }}</span></p>

                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="consultation" role="tabpanel" aria-labelledby="consultation-tab">
                        <div class="card">
                            <div class="card-header">
                                Consultation Form
                            </div>
                            <div class="card-body">
                                <p><strong>Prior Exercise Programs:</strong> <span class="editable" id="prior_exercise_programs">{{consultation_data.prior_exercise_programs }}</span></p>
                                <p><strong>Exercise Habits:</strong> <span class="editable" id="exercise_habits">{{ consultation_data.exercise_habits }}</span></p>
                                <p><strong>Fitness Goals:</strong> <span class="editable" id="fitness_goals">{{ consultation_data.fitness_goals }}</span></p>
                                <p><strong>Progress Measurement:</strong> <span class="editable" id="progress_measurement">{{ consultation_data.progress_measurement }}</span></p>
                                <p><strong>Areas of Improvement:</strong> <span class="editable" id="area_specifics">{{ consultation_data.area_specifics }}</span></p>

                                <hr>

                                <p><strong>Exercise Likes:</strong> <span class="editable" id="exercise_likes">{{ consultation_data.exercise_likes }}</span></p>
                                <p><strong>Exercise Dislikes:</strong> <span class="editable" id="exercise_dislikes">{{ consultation_data.exercise_dislikes }}</span></p>

                                <hr>

                                <p><strong>Diet:</strong> <span class="editable" id="diet_description">{{ consultation_data.diet_description }}</span></p>
                                <p><strong>Dietary Restrictions:</strong> <span class="editable" id="dietary_restrictions">{{ consultation_data.dietary_restrictions }}</span></p>
                                <p><strong>Processed Food Consumption:</strong> <span class="editable" id="processed_food_consumption">{{consultation_data.processed_food_consumption }}</span></p>
                                <p><strong>Daily Water Intake:</strong> <span class="editable" id="daily_water_intake">{{ consultation_data.daily_water_intake }}</span></p>
                                <p><strong>Daily Routine:</strong> <span class="editable" id="daily_routine">{{ consultation_data.daily_routine }}</span></p>

                                <hr>

                                <p><strong>Stress Levels:</strong> <span class="editable" id="stress_level">{{ consultation_data.stress_level }}</span></p>
                                <p><strong>Smoking and Alcohol Habits:</strong> <span class="editable" id="smoking_alcohol_habits">{{consultation_data.smoking_alcohol_habits }}</span></p>

                                <hr>

                                <p><strong>Hobbies:</strong> <span class="editable" id="hobbies">{{ consultation_data.hobbies }}</span></p>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="medical-history" role="tabpanel"
                        aria-labelledby="medical-history-tab">
                        <div class="card">
                            <div class="card-header">
                                Medical History
                            </div>
                            <div class="card-body">
                                <p><strong>Existing Conditions:</strong> <span class="editable" id="existing_conditions">{{ history_data.existing_conditions}}</span></p>
                                <p><strong>Medications:</strong> <span class="editable" id="medications">{{ history_data.medications}}</span></p>
                                <p><strong>Past Surgeries or Injuries:</strong> <span class="editable" id="surgeries_or_injuries">{{ history_data.surgeries_or_injuries }}</span></p>
                                <p><strong>Allergies:</strong> <span class="editable" id="allergies">{{ history_data.allergies }}</span></p>
                                <p><strong>Family History Conditions:</strong> <span class="editable" id="family_history">{{ history_data.family_history}}</span></p>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="assessments" role="tabpanel" aria-labelledby="assessments-tab">
                        <div class="card">
                            <div class="card-header">
                                Assessments
                            </div>
                            <div class="card-body">
                                <h3>Flexibility Assessment</h3>
                                <p><strong>Shoulder Flexibility:</strong> <span class="editable" id="shoulder_flexibility">{{
                                    Flexibilityassessment_data.shoulder_flexibility }}</span></p>
                                <p><strong>Lower Body Flexibility:</strong> <span class="editable" id="lower_body_flexibility">{{
                                    Flexibilityassessment_data.lower_body_flexibility }}</span></p>
                                <p><strong>Joint Mobility:</strong> <span class="editable" id="joint_mobility">{{ Flexibilityassessment_data.joint_mobility }}</span></p>

                                <!-- Assessment Findings -->
                                <h2>Assessment Findings</h2>
                                {% if Beginnerassessment_data %}
                                <h3>Functional Assessment</h3>
                                <p><strong>Movement Techniques:</strong> <span class="editable" id="basic_technique">{{ Beginnerassessment_data.basic_technique }}</span>
                                </p>
                                <p><strong>Chair Sit-to-Stand Test:</strong> <span class="editable" id="chair_sit_to_stand">{{
                                    Beginnerassessment_data.chair_sit_to_stand }}</span></p>
                                <p><strong>Arm Curl Test:</strong> <span class="editable" id="arm_curl">{{ Beginnerassessment_data.arm_curl }}</span></p>
                                <p><strong>Balance Test Results:</strong> <span class="editable" id="balance_test_results">{{
                                    Beginnerassessment_data.balance_test_results }}</span></p>
                                <p><strong>Cardio Results:</strong> <span class="editable" id="cardio_test">{{ Beginnerassessment_data.cardio_test }}</span></p>
                                {% endif %}

                                {% if Advancedassessment_data %}
                                <h3>Functional Assessment</h3>
                                <p><strong>Movement Techniques:</strong> <span class="editable" id="advanced_technique">{{ Advancedassessment_data.advanced_technique
                                    }}</span></p>
                                <p><strong>Max Strength Results:</strong> <span class="editable" id="strength_max">{{ Advancedassessment_data.strength_max }}</span></p>
                                <p><strong>Muscular Strength Endurance Results:</strong> <span class="editable" id="strength_endurance">{{
                                    Advancedassessment_data.strength_endurance }}</span></p>
                                <p><strong>Circuit Results:</strong> <span class="editable" id="circuit">{{ Advancedassessment_data.circuit }}</span></p>
                                <p><strong>Cardio Results:</strong> <span class="editable" id="moderate_cardio">{{ Advancedassessment_data.moderate_cardio }}</span></p>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="workout-progress" role="tabpanel" aria-labelledby="workout-progress-tab">
                        <div class="card">
                            <div class="card-header">
                                Workout History:
                            </div>
                            <div class="card-body">
                                <!-- Display workout history with dates -->
                                <ul class="list-group list-group-flush">
                                    {% for progress in workout_progress_data %}
                                    <li class="list-group-item py-2"><a href="/view_workout/{{ client_data.id }}" class="text-decoration-none">{{ progress.date }}</a></li>
                                    {% endfor %}
                                </ul>
                            </div>
                            
                            <div class="card">
                                <div class="card-header">Workout Plans:</div>
                                <div class="card-body">
                                    <p>
                                        <strong>Demo:</strong> {{ demo_plan.date }}
                                        <a href="/view_demo_plan/{{ demo_plan.id }}" class="btn btn-primary btn-sm">View Details</a>
                                        <a href="/edit_demo_plan/{{ demo_plan.id }}" class="btn btn-warning btn-sm">Edit</a>
                                        <a href="/delete_demo_plan/{{ demo_plan.id }}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this plan?');">Delete</a>
                                    </p>
                                </div>
                            </div>
                            
                            
                            
                            
                            
                        </div>
                        <div class="mt-3">
                            <a href="/workout_record/{{ client_data.id }}" class="btn btn-primary">Record</a>
                            <button class="btn btn-success" onclick="redirectToCreatePage()">Create+</button>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>

</html